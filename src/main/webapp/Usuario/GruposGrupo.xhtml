<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:decorate
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui"
  template="template.xhtml">
    
  <h:body>
    <h:form 
        styleClass="form-ui-gp form-ui-item">
      <p:dataTable id="tabela"
        var="grupo"
        value="#{guiGrupo.gruposGrupo}"
        rowKey="#{grupo.id}"
        scrollable="true" 
        scrollHeight="450"
        emptyMessage="Nenhum grupo cadastrado para o grupo #{guiGrupo.grupo.nome} ">
          
        <f:facet 
            name="header">
            <h4>Grupos do Grupo #{guiGrupo.grupo.nome}</h4>
        </f:facet>
          
        <p:ajax 
            event="sort" 
            skipChildren="false" />   
        <p:column
            style="width: 80%;"
            sortBy="#{grupo.nome}"
            headerText="Nome"  >
          <h:outputText 
              value="#{grupo.nome}" />
        </p:column>

        <p:column 
            style="width: 20%;">
          <p:commandButton id="addItem"
                class="iconOnly" 
                action="#{guiGrupo.itensList(grupo)}"
                icon="pi pi-pencil"
                style="width: 25%; margin: 10px 0px 0px 14px; font-size: 150%;" />
          <p:tooltip id="toolTipFade" 
                for="addItem" 
                value="Inserir novo Item ao grupo." 
                position="top"/>
          <p:commandButton id="addGrupo"
                class="iconOnly" 
                action="#{guiGrupo.gruposList(grupo)}"
                style="width: 25%; margin: 10px 0px 0px 14px; font-size: 150%;" 
                icon="pi pi-plus"/>
          <p:tooltip id="toolTipFade2" 
                for="addGrupo" 
                value="Inserir novo Grupo ao grupo." 
                position="top"/>
          <p:commandButton id="Delete"
                class="iconOnly" 
                action="#{guiGrupo.removeGrupo(grupo)}"
                style="width: 25%; margin: 10px 0px 0px 14px; font-size: 150%;" 
                icon="pi pi-trash"/>
          <p:tooltip id="toolTipFade3" 
                for="Delete" 
                value="Remover o grupo." 
                position="top"/>
        </p:column>
      </p:dataTable>
      <p:commandButton
        ajax="false"
        style="width: 10%; margin-top: 10px; margin: 5px;"
        value="Novo Grupo"
        action="#{guiGrupo.addNewGrupoByGrupo(guiGrupo.grupo)}"
        styleClass="new-btn"/>
    </h:form>
  </h:body>
</ui:decorate>
