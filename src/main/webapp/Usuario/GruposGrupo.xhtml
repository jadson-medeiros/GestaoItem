<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:decorate
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui"
  template="template.xhtml">
    
  <h:body>
    <h:form styleClass="form-ui-gp form-ui-item">
      <p:dataTable id="tabela"
        var="grupo"
        value="#{guiGrupo.gruposGrupo}"
        rowKey="#{grupo.id}"
        scrollable="true" 
        scrollHeight="300"
        emptyMessage="Nenhum grupo cadastrado para o grupo #{guiGrupo.grupo.nome} ">
          
        <f:facet name="header">
            <h4>Grupos do Grupo #{guiGrupo.grupo.nome}</h4>
        </f:facet>
          
        <p:ajax event="sort" skipChildren="false" />   
        <p:column headerText="Nome" sortBy="#{grupo.nome}" style="width: 80%;">
          <h:outputText value="#{grupo.nome}" />
        </p:column>

        <p:column style="width: 20%;">
          <p:commandButton
            class="iconOnly"
            action="#{guiGrupo.itensList(gp)}"
            style="width: 25%; margin: 10px 0px 0px 13px; font-size: 150%;"
            icon="pi pi-pencil"/>
          <p:commandButton
            class="iconOnly"
            action="#{guiGrupo.addGrupoByGrupo(gp)}"
            style="width: 25%; margin-top: 10px; font-size: 150%;"
            icon="pi pi-plus"/>
          <p:commandButton
            class="iconOnly"
            action="#{guiGrupo.removeGrupo(gp)}"
            style="width: 25%; margin-top: 10px; font-size: 150%;"
            icon="pi pi-trash"/>
        </p:column>
        <!-- <p:column style="width: 30%;">
                <p:commandButton
                    ajax="false"
                    value="Novo Grupo"
                    action="#{guiGrupo.addGrupoByGrupo(gp)}"/>
                <p:commandButton
                    ajax="false"
                    value="Excluir"
                    action="#{guiGrupo.removeGrupo(gp)}"/>
                <p:commandButton
                    ajax="false"
                    value="Itens"
                    action="#{guiGrupo.itensList(gp)}"/>
            </p:column> -->
      </p:dataTable>

      <p:commandButton
        ajax="false"
        style="width: 10%; margin-top: 10px; margin: 5px;"
        value="Novo Grupo"
        action="#{guiGrupo.addNewGrupoByGrupo(guiGrupo.grupo)}"
        styleClass="new-btn"
      />
    </h:form>
  </h:body>
</ui:decorate>
